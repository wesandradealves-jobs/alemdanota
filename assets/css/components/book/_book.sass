@keyframes pageForwards
    0% 
        left: calc(50% + 15px)
        transform: perspective(6000px) rotateY(0)
    100%
        left: calc(50% - 15px
        transform: perspective(6000px) rotateY(-180deg)
@keyframes pageBackwards
    0% 
        left: calc(50% - 15px
        transform: perspective(6000px) rotateY(-180deg)
    100%
        left: calc(50% + 15px)
        transform: perspective(6000px) rotateY(0deg)

.-shadowed
    +shadow(0px, 0px, 0px, 7px, $darkblue)

.book
    height: 510px
    margin: 0 auto
    max-width: 768px
    position: relative
    width: 100%
    &::after
        background-color: $darkblue
        content: ""
        display: block
        height: 100%
        left: calc(50% + 15px) 
        position: absolute 
        top: 0
        width: 50%
        z-index: 1
        @extend .-shadowed
    &-pagination
        align-items: flex-start
        @extend .flex
        flex-flow: column wrap 
        justify-content: flex-start
        left: -80px
        position: absolute 
        top: 0
        z-index: 2
        >*
            &:not(:last-child)
                margin-bottom: 10px
            &.-active
                background-color: $yellow
            background-color: $darkblue                
            height: 20px
            width: 20px
    &-navigation
        align-items: center 
        @extend .flex
        flex-flow: row wrap 
        justify-content: space-between
        position: absolute 
        top: 50%
        width: 100%
        z-index: 3
        .navigator
            background-color: transparent
            cursor: pointer
            height: 90px
            left: -120px
            position: relative
            right: initial
            transform: rotate(90deg)
            transform-origin: center center 
            width: 90px
            &:nth-child(2)
                left: initial
                right: -120px
                transform: rotate(-90deg)
            svg,img 
                display: block
                height: 100% 
                width: 100%
    &-pages 
        display: block 
        height: 100%
        position: relative
        z-index: 2
        width: 100%
        &::after
            background: url(assets/imgs/book-divisor.png) center 8px repeat transparent
            content: ""
            display: block 
            height: 100%
            left: calc(50% - 30px/2)
            position: absolute 
            top: 0
            width: 30px
            z-index: 1         
        > .book-page
            cursor: default
            display: block 
            height: 100%
            left: calc(50% + 15px)
            overflow: hidden
            position: absolute 
            transform-style: preserve-3d   
            transform-origin: 0 50%
            transform: perspective(6000px) rotateY(0deg)            
            width: 50%
            >.book-page-content
                height: 100%
                transform-origin: center center
                >p 
                    color: blue
                    font-family: 'Indie Flower', cursive
                    +rem(('line-height' : 16px, 'font-size' : 14px)) 
            &:not(:first-child)
                background-color: white 
                background-position: 0 0
                background-repeat: repeat
                background-image: url(assets/imgs/paperline.png), url(assets/imgs/pattern.png)
                +shadow(0px, 0px, 15px, -10px, black)
                >.book-page-content
                    padding: 47px 47px
                    &::after,
                    &::before
                        background-color: coral 
                        content: ""
                        display: block 
                        height: 100%
                        left: 22px
                        position: absolute 
                        top: 0
                        width: 1px
                    &::after
                        left: initial
                        right: 22px                      
            &.-flip
                animation: pageForwards 4s forwards
                &+.-flip
                    animation: pageForwards 6s forwards
            &.-flip-over
                animation: pageBackwards 4s forwards
            &:first-child
                @extend .-shadowed
                &.-flip+.-flip
                        animation: pageForwards 4.2s forwards                