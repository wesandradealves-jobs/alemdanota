@keyframes CoverBook 
    30% 
        z-index: 4
  
    80%
        z-index: 1
    
    100%
        transform: rotateY(180deg)
        z-index: 1

@keyframes bluepageA
    30% 
        z-index: 4
  
    80%
        z-index: 2
    
    100%
        transform: rotateY(180deg)
        z-index: 2
.book
    display: block
    margin: 0 auto 15px
    +mq('960px', max)
        margin: 0 auto 80px
    max-width: calc(768px - 15px)
    max-height: 598px
    position: relative
    padding: 30px
    +mq('414px', max)
        padding: 30px 0
    height: calc(100vh - 84.2px - 15px*2)
    width: 100%
    .pre-animated-page
        display: none 
        +mq('415px', min)
            display: block
        height: calc(100% - 27px)
        position: absolute
        top: 13px
        width: 50%
        z-index: 1001
        right: 5px
        transform-style: preserve-3d   
        transform: rotateY(180deg)
        transform-origin: 0 center                
        @-webkit-keyframes paging
            0%
                right: 5px
                transform: rotateY(0)
                transform-origin: 0 center
            100%
                right: 5px
                transform: rotateY(180deg)
                transform-origin: 0 center
        @-moz-keyframes paging
            0%
                right: 5px
                transform: rotateY(0)
                transform-origin: 0 center
            100%
                right: 5px
                transform: rotateY(180deg)
                transform-origin: 0 center
        @-ms-keyframes paging
            0%
                right: 5px
                transform: rotateY(0)
                transform-origin: 0 center
            100%
                right: 5px
                transform: rotateY(180deg)
                transform-origin: 0 center   
        +animation('paging', 1000ms)        
    &::before,
    &::after
        background-color: $darkblue
        content: ""
        display: block 
        +mq('414px', max)
            display: none
        height: 95%
        left: -5px
        position: absolute 
        top: calc(50% - 95%/2)
        width: 50%
        z-index: 1
    &::before
        +mq('414px', max)
            display: block
            left: 0
            width: 100%
        left: initial 
        right: -5px
    &-page-marker
        display: block 
        font-weight: bold 
        +rem('margin-bottom', 16.5px)
        text-align: center 
    &-pagination
        display: block 
        left: -65px
        position: absolute
        top: calc(50% - 200px)
        +mq('960px', max)
            align-items: center
            display: flex 
            flex-flow: row wrap 
            justify-content: center 
            left: 0
            margin: -40px auto 0
            position: relative
            top: 0
        z-index: 2
        >* 
            background-color: $darkblue
            display: block 
            height: 15px
            width: 15px
            +mq('960px', max)
                margin: 0 5px
            &:not(:last-child)
                margin-bottom: 5px
                +mq('960px', max)
                    margin-bottom: 0
            &:nth-child(1),
            &:nth-child(2),
            &.-active
                background-color: $yellow!important
                +mq('414px', max)
                    &:nth-child(2)
                        background-color: $darkblue!important
                        &.-active
                            background-color: $yellow!important
    &-navigation
        align-items: center
        @extend .flex
        flex-flow: row wrap 
        justify-content: space-between
        left: 0
        position: absolute 
        top: calc(50% - 40px/2)
        +mq('960px', max)
            position: relative
            top: 0
        z-index: 2
        +mq('960px', max)
            z-index: 999
        width: 100%
        button 
            background-color: transparent
            cursor: pointer
            text-align: center
            >img,
            svg 
                display: inline-block 
                height: 100%
                left: 0
                position: relative
                top: 0 
            &:first-child
                left: -90px
                +mq('960px', max)
                    left: 0
                >img,svg 
                    transform: rotate(90deg)
                &+button 
                    right: -90px
                    +mq('960px', max)
                        right: 0
                    transform: rotate(-90deg)
            height: 60px
            width: 60px
    &-page-section
        height: 100%
        left: 0
        +mq('960px', max)
            margin-bottom: 40px
        position: relative
        top: 0
        width: 100%
        &::after
            background: url(assets/imgs/book-divisor.png) center 1px repeat-y transparent
            content: ""
            display: block
            +mq('414px', max)
                display: none 
            height: 100%
            left: calc(50% - 5%/2)
            position: absolute 
            width: 5%
            z-index: 1001
        .book-page
            height: 100%
            overflow: hidden
            position: absolute 
            top: 0
            +transition(.4s)
            flex: 0 0 auto 
            width: 50%
            +mq('414px', max)
                width: 100%
            z-index: 1
            &:nth-child(1),
            &:nth-child(2)
                z-index: 998!important
            &.-flip
                transform: rotateY(180deg)
                transform-style: preserve-3d   
                transform-origin: -10px center
                +mq('414px', max)
                    transform: none
                    transform-origin: 0 center
                    z-index: 999!important
                z-index: 1001!important
                & + .book-page + .book-page,
                & + .book-page
                    z-index: 1001!important
                    +mq('414px', max)
                        z-index: initial!important
                p 
                    transform: rotateY(180deg)
                    +mq('414px', max)
                        transform: none
                    transform-origin: center center   
            &:nth-child(1)
                +mq('414px', max)
                    z-index: 999!important

                +mq('415px', min)
                    left: calc(100% + 10px)
                    transform-style: preserve-3d   
                    transform: rotateY(180deg)
                    transform-origin: 0 center         
                    z-index: 1000!important    
                    p 
                        transform: rotateY(180deg)                   
                    @-webkit-keyframes paging-firstPage
                        0%
                            left: calc(50% + 10px)
                            transform: rotateY(0)
                            z-index: 999!important 
                        100%
                            left: calc(50% - 10px)
                            transform: rotateY(180deg)
                            z-index: 1001!important 
                    @-moz-keyframes paging-firstPage
                        0%
                            left: calc(50% + 10px)
                            transform: rotateY(0)
                            z-index: 999!important 
                        100%
                            left: calc(50% - 10px)
                            transform: rotateY(180deg)
                            z-index: 1001!important 
                    @-ms-keyframes paging-firstPage
                        0%
                            left: calc(50% + 10px)
                            transform: rotateY(0)
                            z-index: 999!important 
                        100%
                            left: calc(50% - 10px)
                            transform: rotateY(180deg)     
                            z-index: 1001!important          
                    &.-animated  
                        left: calc(50% - 10px)
                        +animation('paging-firstPage', .4s)  
                        z-index: 1001!important     
            &-content
                background: url(assets/imgs/paperline.png)
                background-position: 0 0
                background-repeat: repeat
                background-color: white
                display: block 
                height: 100%
                overflow: hidden
                padding: 32px 45px 30px 45px
                +mq('414px', max)
                    padding: 32px 25px
                width: 100%
                &::after,
                &::before
                    background-color: coral 
                    content: ""
                    display: block 
                    height: 100%
                    left: 30px
                    +mq('414px', max)
                        left: 15px
                    position: absolute 
                    top: 0
                    width: 1px
                &::after
                    left: initial
                    right: 30px
                    +mq('414px', max)
                        right: 15px
                p 
                    +rem(("font-size" : 12px, "line-height" : 16px))
                    text-align: justify
                    top: 0
                    +transition(.4s)
            &:not(:first-child):nth-child(2n+1)
                left: -10px
                +mq('414px', max)
                    left: 0
            &:nth-child(2n+2)
                right: -10px
                +mq('414px', max)
                    right: 0
 